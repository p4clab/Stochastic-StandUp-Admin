(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{394:function(e,t,n){e.exports=n(508)},508:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n(18);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var o,c=n(63),r=n(387),s=n(379),l=n(31),m=n(167),u=n.n(m),d=function(e){return{createTime:e.createTime,updateTime:e.updateTime,numPlaces:e.numPlaces,incentive:e.incentive,numVisit:e.numVisit,numSuccess:e.numSuccess,numMission:e.numMission,numDaysMissions:e.numDaysMissions,lastMissionDay:e.lastMissionDay}},g=new Map([["4401dudgus3@gmail.com","\uace0\uc601\ud604"],["keonhan1171@gmail.com","\uae40\uac74\ud55c"],["doyoung9803@gmail.com","\uae40\ub3c4\uc601"],["boson95@gmail.com","\uae40\ub3c4\ud615"],["rlarlgus97@gmail.com","\uae40\ubbfc\uc815"],["xodwk1205@gmail.com","\uae40\ubcf4\uacbd"],["qhtjd5421@gmail.com","\uae40\ubcf4\uc131"],["js99962102@gmail.com","\uae40\ubcf4\uc5f0"],["sue2368@gmail.com","\uae40\uc138\ud604"],["mody3062@gmail.com","\uae40\uc608\ub9b0"],["jjgod4490@gmail.com","\uae40\uc778\uc12d"],["wjdaud923@gmail.com","\uae40\uc815\uba85"],["jw950310@gmail.com","\uae40\uc815\uc6b0"],["iplay93@gmail.com","\uae40\ud604\uc8fc"],["hkkim1227@gmail.com","\uae40\ud615\uadfc"],["naeunjee7907@gmail.com","\ub098\uc740\uc9c0"],["jiyoon0424@gmail.com","\uba85\uc9c0\uc724"],["jaehyuk705@gmail.com","\ubb38\uc7ac\ud601"],["2qkrtkdfuf@naver.com","\ubc15\ub3d9\ud6c8"],["kbg04191@gmail.com","\ubc15\uc131\ud638"],["pink0151@gmail.com","\ubc15\uc778\uc601"],["skypeperfectedu@gmail.com","\ubc15\uc7ac\uc21c"],["pk32167@gamil.com","\ubc15\ud604\uc6b1"],["jeesoo100412@gmail.com","\ubc31\uc9c0\uc218"],["ehdgus030212@gmail.com","\uc548\ub3d9\ud604"],["dbtjd5567@gmail.com","\uc720\uc131\uc9c4"],["santa3091@gmail.com","\uc774\ub3d9\uc740"],["dlalsgud0625@gmail.com","\uc774\ubbfc\ud615"],["dltmdqh7577@gmail.com","\uc774\uc2b9\ubcf4"],["sylee0665@gmail.com","\uc774\uc2b9\uc724"],["bugiljaewoo@gmail.com","\uc774\uc7ac\uc6b0"],["jihee931110@gmail.com","\uc774\uc9c0\ud76c"],["beskkuim@gmail.com","\uc7a5\ud615\uc6b4"],["wjstnwp12345@gmail.com","\uc804\uc218\uc81c"],["chungp607@gmail.com","\uc815\ubc14\uc6b8"],["chungsea99@gmail.com","\uc815\uc138\uc544"],["winjungle@gmail.com","\uc815\uc2b9\uc7ac"],["gusrbwjd1229@gmail.com","\uc815\ud604\uaddc"],["cyj3141@kaist.ac.kr","\ucd5c\uc720\uc9c4"],["gkswogus2437@gmail.com","\ud55c\uc7ac\ud604"],["jeehyunhong97@gmail.com","\ud64d\uc9c0\ud604"],["gomsing1122@gmail.com","\ud669\uc720\uc9c4"]]),f=n(272),v=n.n(f),p=n(147),h=u.a.mark(S),T=u.a.mark(B),y="stochastic-stand-up/admin/",b="http://localhost:8080",j="".concat(y,"fetch-requested"),E="".concat(y,"fetch-in-progress"),O="".concat(y,"fetch-success"),w="".concat(y,"fetch-failure");!function(e){e[e.GET=0]="GET",e[e.POST=1]="POST"}(o||(o={}));var M=function(e,t){return{type:E,query:e,email:t}},k=function(e,t,n){return{type:O,query:e,email:t,result:n}},D=function(e,t,n){return{type:w,query:e,email:t,reason:n}};function S(e){var t,n,a,i,c,r,s,l,m,d;return u.a.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return t=e.query,n=e.requestType,a=e.url,i=e.data,c=e.transform,r=e.email,u.next=3,Object(p.b)(M(t,r));case 3:return s=n===o.GET?v.a.get:v.a.post,l={headers:{"Content-Type":"application/x-www-form-urlencoded"}},u.prev=5,u.next=8,Object(p.a)(s,a,i,l);case 8:return m=u.sent,d=c?c(m.data):m.data,u.next=12,Object(p.b)(k(t,r,d));case 12:u.next=18;break;case 14:return u.prev=14,u.t0=u.catch(5),u.next=18,Object(p.b)(D(t,r,u.t0));case 18:case"end":return u.stop()}}),h,null,[[5,14]])}var C=function(e){return Array.from(e.keys()).filter((function(t){return void 0!==e.get(t)})).map((function(t){return"".concat(t,"=").concat(e.get(t))})).join("&")},x="".concat(y,"list-users"),H="".concat(y,"list-events"),P="".concat(y,"list-missions"),U="".concat(y,"list-places");function B(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(p.c)(j,S);case 2:case"end":return e.stop()}}),T)}var q,I=n(32),L=n(132),N=n(533),R=n(24),G=n(211),V=n(102),A=n(535),F=n(536),W=n(534),J=n(265),$=n(166),z=n(64),K=n(91),Q=n.n(K),X=n(269),Y=function(e){var t=e.onUserClick,n=Object(I.d)((function(e){return e.userStats})),i=Object(I.d)((function(e){return e.isInProgress})),c=n.map((function(e){var t;return{email:e.email,name:g.get(e.email),create:X.default(e.stat.createTime,"yyyy-MM-dd HH:mm:ss"),update:X.default(e.stat.updateTime,"yyyy-MM-dd HH:mm:ss"),incentive:null!==(t=e.stat.incentive)&&void 0!==t?t:0,mission:"".concat(e.stat.numSuccess," / ").concat(e.stat.numMission),days:e.stat.numDaysMissions}})).filter((function(e){return void 0!==e.name})),r={icon:"details",onClick:function(e,n){if(!Array.isArray(n)){var a=n.email;a&&(null===t||void 0===t||t(a))}}},s=Object(I.c)();return Object(a.useEffect)((function(){s({type:j,query:x,requestType:o.GET,url:"".concat(b,"/users"),transform:function(e){return Object.keys(e).map((function(t){return{email:t,stat:d(e[t])}}))}})}),[s]),a.createElement("div",null,a.createElement(Q.a,{title:"Users",columns:[{title:"Email",field:"email"},{title:"Name",field:"name"},{title:"Created",field:"create"},{title:"Last Updated",field:"update"},{title:"Incentive",field:"incentive"},{title:"# Success",field:"mission"},{title:"# Days on Mission",field:"days"}],data:c,actions:[r],isLoading:i,options:{actionsColumnIndex:-1,showTitle:!1,exportButton:!0,paging:!1}}))},Z=n(386),_=n.n(Z),ee=n(539),te=n(530),ne=n(260),ae=n(145),ie=n(538),oe=n(273),ce=n(65),re=n(146),se=n(369),le=n(537),me=Object(ce.a)((function(e){return Object(re.a)({toolBarControl:{marginLeft:e.spacing(3)},progress:{marginTop:e.spacing(5),display:"flex",justifyContent:"center"}})})),ue=function(e){var t,n=e.email,i=me(),c=Object(a.useState)({isRangeChecked:!1,fromDate:ae.a(Date.now()).getTime(),toDate:ae.a(Date.now()).getTime()}),r=Object(V.a)(c,2),s=r[0],m=r[1],u=Object(I.c)(),d=Object(I.d)((function(e){return e.selectedUserStat.events})),g=Object(I.d)((function(e){return e.isInProgress})),f=null!==(t=null===d||void 0===d?void 0:d.map((function(e){var t=X.default(e.startTime,"yyyy-MM-dd"),n=X.default(e.startTime,"HH:mm:ss"),a=e.endTime<=Date.now()?X.default(e.endTime,"HH:mm:ss"):"",i=Math.floor(e.duration/1e3/60),o=e.latitude,c=e.longitude,r=e.geoHash;return{time:"".concat(n," - ").concat(a),location:"".concat(o,", ").concat(c," (").concat(r,")"),durationStr:"".concat(i," min."),startTime:e.startTime,endTime:e.endTime,duration:e.duration,date:t,latitude:o,longitude:c,geoHash:r}})))&&void 0!==t?t:[],v=function(e){if(e){var t=e.getTime();m(Object(l.a)({},s,{fromDate:t}))}},p=function(e){if(e){var t=e.getTime();m(Object(l.a)({},s,{toDate:t}))}},h=function(e){m(Object(l.a)({},s,{isRangeChecked:e.target.checked}))},T=Object(a.useCallback)((function(e,t,n){var a,i,c=ie.a(n,t);c<0&&(c=0),a=[],i=[];for(var r=0;r<=c;r++){var s=oe.a(ae.a(t),r).getTime(),l=oe.a(ae.a(t),r+1).getTime();a.push(s),i.push(l)}u(function(e,t,n,a){var i=new Map([["fromTime",t],["toTime",n],["limit",a]]);return console.log(i),{type:j,query:H,requestType:o.GET,url:"".concat(b,"/users/").concat(e,"/events?").concat(C(i)),transform:function(e){return e.map((function(e){return function(e){return{id:e.id,startTime:e.startTime,endTime:e.endTime,duration:e.duration,latitude:e.latitude,longitude:e.longitude,geoHash:e.geoHash}}(e)}))},email:e}}(e,a,i))}),[u]);return Object(a.useEffect)((function(){T(n,s.fromDate,s.toDate)}),[n,T,s.fromDate,s.toDate]),a.createElement("div",null,a.createElement(Q.a,{columns:[{title:"Date",field:"date"},{title:"Time",field:"time",export:!1},{title:"Duration",field:"durationStr",export:!1},{title:"Location",field:"location",export:!1},{title:"StartTime",field:"startTime",hidden:!0},{title:"EndTime",field:"endTime",hidden:!0},{title:"Duration",field:"duration",hidden:!0},{title:"Latitude",field:"latitude",hidden:!0},{title:"Longitude",field:"longitude",hidden:!0},{title:"GeoHash",field:"geoHash",hidden:!0}],data:f,isLoading:g,components:{Toolbar:function(e){return a.createElement("div",null,a.createElement(K.MTableToolbar,e),a.createElement(se.a,{className:i.toolBarControl,control:a.createElement(le.a,{checked:s.isRangeChecked,onChange:h,color:"secondary"}),label:"Range"}),a.createElement(ne.b,{className:i.toolBarControl,variant:"inline",format:"yyyy-MM-dd",value:s.fromDate,onChange:v}),s.isRangeChecked?a.createElement(ne.b,{className:i.toolBarControl,variant:"inline",format:"yyyy-MM-dd",value:s.toDate,onChange:p}):void 0)}},options:{showTitle:!1,exportButton:!0,exportFileName:"".concat(n,"-event.csv"),paging:!1}}))},de=n(385),ge=function(e){var t,n=e.email,i=Object(I.d)((function(e){return e.selectedUserStat.places})),c=Object(I.d)((function(e){return e.isInProgress})),r=null!==(t=null===i||void 0===i?void 0:i.map((function(e){var t=e.name,n=e.address,a=e.incentive,i=e.numMission,o=e.numSuccess,c=e.id,r=de.decode(e.id),s=r.latitude,l=r.longitude;return{name:t,address:n,incentive:a,numMission:i,numSuccess:o,geoHash:c,latitude:s,longitude:l,mission:"".concat(o," / ").concat(i),location:"".concat(s,", ").concat(l," (").concat(e.id,")")}})))&&void 0!==t?t:[],s=Object(I.c)();return Object(a.useEffect)((function(){s(function(e,t){var n=new Map([["limit",t]]);return{type:j,query:U,requestType:o.GET,url:"".concat(b,"/users/").concat(e,"/places?").concat(C(n)),transform:function(e){return e.map((function(e){return function(e){return{id:e.id,name:e.name,address:e.address,incentive:e.incentive,numVisit:e.numVisit,numMission:e.numMission,numSuccess:e.numSuccess,lastVisitTime:e.lastVisitTime}}(e)}))},email:e}}(n))}),[s,n]),a.createElement("div",null,a.createElement(Q.a,{columns:[{title:"Name",field:"name"},{title:"Address",field:"address"},{title:"Incentive",field:"incentive"},{title:"Mission",field:"mission",export:!1},{title:"Location",field:"location",export:!1},{title:"NumMission",field:"numMission",hidden:!0},{title:"NumSuccess",field:"numSuccess",hidden:!0},{title:"Latitude",field:"latitude",hidden:!0},{title:"Longitude",field:"longitude",hidden:!0},{title:"GeoHash",field:"geoHash",hidden:!0}],data:r,isLoading:c,options:{showTitle:!1,exportButton:!0,exportFileName:"".concat(n,"-place.csv"),paging:!1}}))},fe=Object(ce.a)((function(e){return Object(re.a)({toolBarControl:{marginLeft:e.spacing(3)},progress:{marginTop:e.spacing(5),display:"flex",justifyContent:"center"}})})),ve=function(e){var t,n=e.email,i=fe(),c=Object(a.useState)({isRangeChecked:!1,fromDate:ae.a(Date.now()).getTime(),toDate:ae.a(Date.now()).getTime()}),r=Object(V.a)(c,2),s=r[0],m=r[1],u=Object(I.c)(),d=Object(I.d)((function(e){return e.selectedUserStat.missions})),g=Object(I.d)((function(e){return e.isInProgress})),f=null!==(t=null===d||void 0===d?void 0:d.map((function(e){var t=0===e.triggerTime?"":X.default(e.triggerTime,"yyyy-MM-dd"),n=e.prepareTime,a=e.standByTime,i=e.triggerTime,o=e.reactionTime,c=X.default(n,"HH:mm:ss"),r=Math.max(a,i,o),s=0===r?"":X.default(r,"HH:mm:ss"),l=e.state,m=e.incentive,u=e.latitude,d=e.longitude,g=e.geoHash;return{time:"".concat(c," - ").concat(s),location:"".concat(u,", ").concat(d," (").concat(g,")"),incentive:m,state:l,prepareTime:n,standByTime:a,triggerTime:i,reactionTime:o,latitude:u,longitude:d,geoHash:g,date:t}})))&&void 0!==t?t:[],v=function(e){if(e){var t=e.getTime();m(Object(l.a)({},s,{fromDate:t}))}},p=function(e){if(e){var t=e.getTime();m(Object(l.a)({},s,{toDate:t}))}},h=function(e){m(Object(l.a)({},s,{isRangeChecked:e.target.checked}))},T=Object(a.useCallback)((function(e,t,n){var a=ie.a(n,t);a<0&&(a=0);var i=ae.a(t).getTime(),c=oe.a(ae.a(t),a+1).getTime();u(function(e,t,n,a){var i=new Map([["fromTime",t],["toTime",n],["limit",a]]);return{type:j,query:P,requestType:o.GET,url:"".concat(b,"/users/").concat(e,"/missions?").concat(C(i)),transform:function(e){return e.map((function(e){return function(e){return{id:e.id,prepareTime:e.prepareTime,standByTime:e.standByTime,triggerTime:e.triggerTime,reactionTime:e.reactionTime,state:e.state,latitude:e.latitude,longitude:e.longitude,geoHash:e.geoHash,incentive:e.incentive}}(e)}))},email:e}}(e,i,c))}),[u]);return Object(a.useEffect)((function(){T(n,s.fromDate,s.toDate)}),[n,T,s.fromDate,s.toDate]),a.createElement("div",null,a.createElement(Q.a,{columns:[{title:"Date",field:"date"},{title:"Time",field:"time",export:!1},{title:"State",field:"state"},{title:"Incentive",field:"incentive"},{title:"Location",field:"location",export:!1},{title:"PrepareTime",field:"prepareTime",hidden:!0},{title:"StandByTime",field:"standByTime",hidden:!0},{title:"TriggerTime",field:"triggerTime",hidden:!0},{title:"ReactionTime",field:"reactionTime",hidden:!0},{title:"Latitude",field:"latitude",hidden:!0},{title:"Longitude",field:"longitude",hidden:!0},{title:"GeoHash",field:"geoHash",hidden:!0}],data:f,isLoading:g,components:{Toolbar:function(e){return a.createElement("div",null,a.createElement(K.MTableToolbar,e),a.createElement(se.a,{className:i.toolBarControl,control:a.createElement(le.a,{checked:s.isRangeChecked,onChange:h,color:"secondary"}),label:"Range"}),a.createElement(ne.b,{className:i.toolBarControl,variant:"inline",format:"yyyy-MM-dd",value:s.fromDate,onChange:v}),s.isRangeChecked?a.createElement(ne.b,{className:i.toolBarControl,variant:"inline",format:"yyyy-MM-dd",value:s.toDate,onChange:p}):void 0)}},options:{showTitle:!1,exportButton:!0,exportFileName:"".concat(n,"-mission.csv"),paging:!1}}))};!function(e){e[e.Events=0]="Events",e[e.Missions=1]="Missions",e[e.Places=2]="Places"}(q||(q={}));var pe=function(e){var t=e.email,n=Object(a.useState)({viewType:q.Events}),i=Object(V.a)(n,2),o=i[0],c=i[1];return a.createElement("div",null,a.createElement(ee.a,{value:o.viewType,onChange:function(e,t){c(Object(l.a)({},o,{viewType:t}))}},a.createElement(te.a,{id:"events",label:"Events",value:q.Events}),a.createElement(te.a,{id:"missions",label:"Missions",value:q.Missions}),a.createElement(te.a,{id:"places",label:"Places",value:q.Places})),a.createElement("div",null,function(e){switch(e){case q.Events:return a.createElement(ue,{email:t});case q.Missions:return a.createElement(ve,{email:t});case q.Places:return a.createElement(ge,{email:t});default:return}}(o.viewType)))},he=function(){var e=Object(a.useState)({showUsers:!0,selectedEmail:void 0}),t=Object(V.a)(e,2),n=t[0],i=t[1];return a.createElement(A.a,{maxWidth:"lg"},a.createElement(F.a,null),a.createElement(W.a,{position:"sticky"},a.createElement(J.a,null,n.showUsers?void 0:a.createElement($.a,{edge:"start",color:"inherit"},a.createElement(_.a,{onClick:function(){i(Object(l.a)({},n,{showUsers:!0,selectedEmail:void 0}))}})),a.createElement(z.a,{variant:"h6"},n.showUsers?"Users":n.selectedEmail))),a.createElement("div",null,n.showUsers?a.createElement(Y,{onUserClick:function(e){i(Object(l.a)({},n,{showUsers:!1,selectedEmail:e}))}}):n.selectedEmail?a.createElement(pe,{email:n.selectedEmail}):void 0))},Te=Object(s.createLogger)(),ye=Object(r.a)(),be=Object(c.d)((function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isInProgress:!1,userStats:[],selectedUserStat:{}},n=arguments.length>1?arguments[1]:void 0;switch(n.type){case E:return Object(l.a)({},t,{isInProgress:!0});case O:var a;switch(n.query){case H:return a=n,Object(l.a)({},t,{isInProgress:!1,selectedUserStat:Object(l.a)({},t.selectedUserStat,{events:a.result})});case P:return a=n,Object(l.a)({},t,{isInProgress:!1,selectedUserStat:Object(l.a)({},t.selectedUserStat,{missions:a.result})});case U:return a=n,Object(l.a)({},t,{isInProgress:!1,selectedUserStat:Object(l.a)({},t.selectedUserStat,{places:a.result})});case x:return a=n,Object(l.a)({},t,{isInProgress:!1,userStats:null!==(e=a.result)&&void 0!==e?e:[]});default:return Object(l.a)({},t,{isInProgress:!1})}case w:return Object(l.a)({},t,{isInProgress:!1});default:return t}}),Object(c.a)(ye,Te)),je=Object(L.a)({palette:{type:"dark"}});ye.run(B),i.render(a.createElement(a.StrictMode,null,a.createElement(I.a,{store:be},a.createElement(N.a,{theme:je},a.createElement(R.a,{utils:G.default},a.createElement(he,null))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[394,1,2]]]);
//# sourceMappingURL=main.f49b2b83.chunk.js.map